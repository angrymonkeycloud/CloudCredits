var __awaiter=this&&this.__awaiter||function(e,t,i,s){return new(i||(i=Promise))(function(n,r){function a(e){try{l(s.next(e))}catch(e){r(e)}}function o(e){try{l(s.throw(e))}catch(e){r(e)}}function l(e){e.done?n(e.value):new i(function(t){t(e.value)}).then(a,o)}l((s=s.apply(e,t||[])).next())})},__generator=this&&this.__generator||function(e,t){var i,s,n,r,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,s&&(n=2&r[0]?s.return:r[0]?s.throw||((n=s.return)&&n.call(s),0):s.next)&&!(n=n.call(s,r[1])).done)return n;switch(s=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,s=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(n=(n=a.trys).length>0&&n[n.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){a.label=r[1];break}if(6===r[0]&&a.label<n[1]){a.label=n[1],n=r;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(r);break}n[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(e){r=[6,e],s=0}finally{i=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},CopyrightSection=function(){return function(){this.Disclaimer="All Rights Reserved."}}(),Business=function(){return function(e){this.Name=e}}(),InvolvedBusiness=function(){return function(){this.DisplayInSummary=!1}}(),Tool=function(){return function(e,t){this.DisplayInSummary=!1,this.Name=e,this.LinkUrl=t}}(),Hosting=function(){return function(){this.DisplayInSummary=!1}}(),CloudCredits=function(){function e(){}return e.Init=function(e,t,i){this.Copyright=new CopyrightSection,this.Copyright.Business=new Business(e),this.LegendSelector=t,this.CreditsSelector=void 0===i?this.LegendSelector:i},e.GenerateCopyrightSection=function(){var e=this.CreateHtmlDiv(this.CreateClassName("Copyright"));e.appendChild(this.CreateHtmlDiv(this.CreateClassName("Copyright","Disclaimer"),this.Copyright.Disclaimer));var t=this.CreateHtmlDiv(this.CreateClassName("Copyright","Business"));return e.appendChild(t),void 0!==this.Copyright.Business.Name&&t.append(this.CreateHtmlDiv(this.CreateClassName("Copyright","Business","Name"),this.Copyright.Business.Name)),void 0!==this.Copyright.Business.AddressLine1&&t.append(this.CreateHtmlDiv(this.CreateClassName("Copyright","Business","Address1"),this.Copyright.Business.AddressLine1)),void 0!==this.Copyright.Business.AddressLine2&&t.append(this.CreateHtmlDiv(this.CreateClassName("Copyright","Business","Address2"),this.Copyright.Business.AddressLine2)),void 0!==this.Copyright.Business.WebsiteUrl&&t.append(this.CreateHtmlDiv(this.CreateClassName("Copyright","Business","WebsiteUrl"),this.Copyright.Business.WebsiteUrl)),e},e.FillInLegend=function(){var e,t=$(this.LegendSelector).html("");e=$(this.LegendSelector).data("legend")?$(this.LegendSelector).data("legend"):"© "+this.Copyright.Business.Name,t.append(this.CreateHtmlDiv(this.CreateClassName("LegendContainer"),this.CreateHtmlSpan(this.CreateClassName("Legend"),e)))},e.CreateCreditsContainer=function(){var e=$(this.CreditsSelector),t=this.CreateClassName("CreditsContainer"),i=$("."+t);return i.length>0?i[0]:(e.append(this.CreateHtmlDiv(t)),(i=$("."+t))[0])},e.FillInCreditsSummary=function(){var e=this,t=$(this.CreateCreditsContainer()),i=this.CreateClassName("CreditsSummary");t.hasClass(i)||t.addClass(i),this.InvolvedBusinesses.forEach(function(i){if(i.DisplayInSummary){var s=e.CreateHtmlDiv(void 0);s.append(e.CreateHtmlParagraph(void 0,i.Involvement+" by ")),s.append(e.GenerateBusinessInfoTextHtml(i.Business)),s.append(e.CreateHtmlParagraph(void 0," ")),t.append(s)}})},e.FillInCredits=function(){var e=$(this.CreateCreditsContainer()),t=this.CreateClassName("Credits");if(e.hasClass(t)||e.addClass(t),e.append(this.GenerateCreditsCopyright()),this.InvolvedBusinesses.length>0&&(e.append(this.CreateHtmlDiv(this.CreateClassName("Title"),"")),e.append(this.GenerateInvolvedBusinesses())),this.Tools.length>0&&(e.append(this.CreateHtmlDiv(this.CreateClassName("Title"),"")),e.append(this.GenerateTools())),void 0!==this.Hosting){e.append(this.CreateHtmlDiv(this.CreateClassName("Title"),"Hosting"));var i=this.CreateHtmlDiv(this.CreateClassName("SubTitle"),this.CreateHtmlSpan(void 0,"managed by "));i.append(this.GenerateBusinessInfoTextHtml(this.Hosting.Management)),e.append(i),e.append(this.GenerateHosting())}},e.GenerateCreditsCopyright=function(){return this.CreateHtmlDiv(this.CreateClassName("Credits","Copyright","Disclaimer"),this.Copyright.Disclaimer)},e.GenerateBusinessInfoTextHtml=function(e){return void 0!==e.WebsiteUrl?this.CreateHtmlAnchor(void 0,e.WebsiteUrl,e.Name):this.CreateHtmlParagraph(void 0,e.Name)},e.GenerateInvolvedBusinesses=function(){var e=this,t=this.CreateHtmlDiv(this.CreateClassName("Credits","Involved"));return this.InvolvedBusinesses.forEach(function(i){t.append(e.GenerateBusinessHtml(i.Business,i.Involvement+" by"))}),t},e.GenerateTools=function(){var e=this,t=this.CreateHtmlDiv(this.CreateClassName("Credits","Tools"));return this.Tools.forEach(function(i){var s=e.CreateHtmlDiv(e.CreateClassName("ToolInfo"));void 0!==i.LogoUrl&&s.append(e.CreateHtmlDiv(void 0,e.CreateHtmlImageLink(void 0,i.LogoUrl,i.LinkUrl))),s.append(e.CreateHtmlAnchor(void 0,i.LinkUrl,i.Name)),s.append(e.CreateHtmlParagraph(void 0,i.Developer.Name)),t.append(s)}),t},e.GenerateHosting=function(){var e=this.CreateHtmlDiv(this.CreateClassName("Credits","Hosting"));return e.append(this.GenerateBusinessHtml(this.Hosting.Provider)),e},e.GenerateBusinessHtml=function(e,t){var i=this.CreateHtmlDiv(this.CreateClassName("BusinessInfo"));return void 0!==e.LogoUrl&&i.append(this.CreateHtmlDiv(void 0,this.CreateHtmlImageLink(void 0,e.LogoUrl,e.WebsiteUrl))),void 0!==t&&i.append(this.CreateHtmlParagraph(void 0," "+t+" ")),i.append(this.GenerateBusinessInfoTextHtml(e)),i},e.CreateClassName=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=this.BaseClassName;return e.forEach(function(e){i+="-"+e}),i},e.CreateHtmlDiv=function(e,t){var i=document.createElement("div");return void 0!==e&&(i.className=e),void 0!==t&&i.append(t),i},e.CreateHtmlSpan=function(e,t){var i=document.createElement("span");return void 0!==e&&(i.className=e),void 0!==t&&i.append(t),i},e.CreateHtmlParagraph=function(e,t){var i=document.createElement("p");return void 0!==e&&(i.className=e),void 0!==t&&i.append(t),i},e.CreateHtmlAnchor=function(e,t,i){var s=document.createElement("a");return s.href=t,s.target="_blank",void 0!==e&&(s.className=e),void 0!==i&&s.append(i),s},e.CreateHtmlImage=function(e,t){var i=document.createElement("img");return i.src=t,void 0!==e&&(i.className=e),i},e.CreateHtmlImageLink=function(e,t,i){return void 0!==i?this.CreateHtmlAnchor(e,i,this.CreateHtmlImage(void 0,t)):this.CreateHtmlImage(void 0,t)},e.Display=function(){this.FillInLegend(),this.FillInCreditsSummary()},e.ToggleDisplay=function(){var e=$(".CloudCredits-CreditsContainer");if(e.html(""),e.hasClass("CloudCredits-CreditsSummary")){this.FillInCredits(),e.removeClass("CloudCredits-CreditsSummary"),$(".CloudCredits-Legend").addClass("Extended");var t="body";["#Body","#body",".Body",".body"].forEach(function(e){$(e).length>0&&(t=e)});var i=$(".CloudCredits-Legend").position().top;"body"!==t&&(i=$(t).scrollTop()+$(".CloudCredits-Legend").offset().top),$(t).animate({scrollTop:i},"fast")}else this.FillInCreditsSummary(),e.removeClass("CloudCredits-Credits"),$(".CloudCredits-Legend").removeClass("Extended")},e.InvolvedBusinesses=[],e.Tools=[],e.BaseClassName="CloudCredits",e}();$(function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return CloudCredits.Display(),[2]})})}),$(document).on("click",".CloudCredits-Legend",function(){CloudCredits.ToggleDisplay()});